<mat-toolbar color="primary" class="mat-elevation-z6">
    <mat-toolbar-row>
        <span>Welcome to Weather App</span>
        <span class="example-spacer"></span>
        <button mat-button mat-raised-button color="warn" routerLink="/home">Home</button>
    </mat-toolbar-row>
</mat-toolbar>

<div class="container">
    <mat-form-field>
        <mat-label>Search</mat-label>
        <input matInput type="text" placeholder="Enter location" [(ngModel)]="location" (keydown.enter)="searchWeatherLocation()">
    </mat-form-field>
    <button mat-flat-button color="accent" (click)="searchWeatherLocation()">Search</button>

    <ng-container *ngIf="data">
        <div class="current-info" [ngClass]="{'day-bg': data.current.is_day == 1 , 'night-bg' :  data.current.is_day == 0}">
            <h2>{{ data.location.name }}, {{ data.location.country }} ( {{ data.location.localtime}} )</h2>

            <div class="info-container">
                <div class="current-location">
                    <span>
                        <h2>{{ data.current.temp_c }}&deg;C</h2>
                        <h2>Feels Like {{ data.current.feelslike_c }}&deg;C</h2>
                    </span>
                    <span>
                        <img src="{{ data.current.condition.icon }}">
                        <h2>{{data.current.condition.text}}</h2>
                    </span>
                </div>
                <div class="current-weather">
                    <p>Humidity: {{data.current.humidity}} %</p>
                    <p>visibility: {{data.current.vis_km}} km</p>
                </div>
            </div>
        </div>
        <div class="chart-table-container">
            <div class="chart-section">
                <app-chart></app-chart>
            </div>
            <div class="table-res weather-table">
                <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                    <ng-container matColumnDef="date">
                        <th mat-header-cell *matHeaderCellDef>Day</th>
                        <td mat-cell *matCellDef="let day;">{{ day.date | date: 'EEE, MMM d' }}</td>
                    </ng-container>

                    <ng-container matColumnDef="temperature">
                        <th mat-header-cell *matHeaderCellDef>Temperature (Â°C)</th>
                        <td mat-cell *matCellDef="let day"> {{ day.day.maxtemp_c }} / {{ day.day.mintemp_c}}</td>
                    </ng-container>

                    <ng-container matColumnDef="condition">
                        <th mat-header-cell *matHeaderCellDef>Condition</th>
                        <td mat-cell *matCellDef="let day"><img src="{{day.day.condition.icon}}" alt=""> {{day.day.condition.text}}</td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="['date','temperature','condition']"></tr>
                    <tr mat-row *matRowDef="let row; columns: ['date','temperature','condition']"></tr>
                </table>
            </div>

        </div>

    </ng-container>
</div>